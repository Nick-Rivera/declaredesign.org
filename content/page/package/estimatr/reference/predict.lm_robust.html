---
title: "estimatr"
---

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Predict method for <code><a href='lm_robust.html'>lm_robust</a></code> object</h1>
    </div>

    
    <p>Predict method for <code><a href='lm_robust.html'>lm_robust</a></code> object</p>
    

    <pre class="usage"><span class='co'># S3 method for lm_robust</span>
<span class='fu'>predict</span>(<span class='no'>object</span>, <span class='no'>newdata</span>, <span class='kw'>se.fit</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>interval</span> <span class='kw'>=</span> <span class='fu'>c</span>(<span class='st'>"none"</span>, <span class='st'>"confidence"</span>, <span class='st'>"prediction"</span>), <span class='kw'>alpha</span> <span class='kw'>=</span> <span class='fl'>0.05</span>,
  <span class='kw'>na.action</span> <span class='kw'>=</span> <span class='no'>na.pass</span>, <span class='kw'>pred.var</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='no'>weights</span>, <span class='no'>...</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>object</th>
      <td><p>an object of class 'lm_robust'</p></td>
    </tr>
    <tr>
      <th>newdata</th>
      <td><p>a data frame in which to look for variables with which to predict</p></td>
    </tr>
    <tr>
      <th>se.fit</th>
      <td><p>logical. Whether standard errors are required, default = FALSE</p></td>
    </tr>
    <tr>
      <th>interval</th>
      <td><p>type of interval calculation. Can be abbreviated, default = none</p></td>
    </tr>
    <tr>
      <th>alpha</th>
      <td><p>numeric denoting the test size for confidence intervals</p></td>
    </tr>
    <tr>
      <th>na.action</th>
      <td><p>function determining what should be done with missing
values in newdata. The default is to predict NA.</p></td>
    </tr>
    <tr>
      <th>pred.var</th>
      <td><p>the variance(s) for future observations to be assumed for
prediction intervals.</p></td>
    </tr>
    <tr>
      <th>weights</th>
      <td><p>variance weights for prediction. This can be a numeric
vector or a bare (unquoted) name of the weights variable in the supplied
newdata.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>other arguments, unused</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Produces predicted values, obtained by evaluating the regression
function in the frame `newdata`` for fits from <code>lm_robust</code> and
<code>lm_lin</code>. If the logical se.fit is TRUE, standard errors of the
predictions are calculated. Setting intervals specifies computation of
confidence or prediction (tolerance) intervals at the specified level,
sometimes referred to as narrow vs. wide intervals.</p>
<p>The equation used for the standard error of a prediction given a row of
data \(x\) is:
    \(\sqrt(x \Sigma x')\),</p>
<p>where \(\Sigma\) is the estimated variance-covariance matrix from
<code>lm_robust</code>.</p>
<p>The prediction intervals are for a single observation at each case in
`newdata` with error variance(s) `pred.var`. The the default is to assume
that future observations have the same error variance as those used for
fitting, which is gotten from the fit <code><a href='lm_robust.html'>lm_robust</a></code> object. If
weights is supplied, the inverse of this is used as a scale factor. If the
fit was weighted, the default is to assume constant prediction variance,
with a warning.</p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='co'># Set seed</span>
<span class='fu'>set.seed</span>(<span class='fl'>42</span>)

<span class='co'># Simulate data</span>
<span class='no'>n</span> <span class='kw'>&lt;-</span> <span class='fl'>10</span>
<span class='no'>dat</span> <span class='kw'>&lt;-</span> <span class='fu'>data.frame</span>(<span class='kw'>y</span> <span class='kw'>=</span> <span class='fu'>rnorm</span>(<span class='no'>n</span>), <span class='kw'>x</span> <span class='kw'>=</span> <span class='fu'>rnorm</span>(<span class='no'>n</span>))

<span class='co'># Fit lm</span>
<span class='no'>lm_out</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='lm_robust.html'>lm_robust</a></span>(<span class='no'>y</span> ~ <span class='no'>x</span>, <span class='kw'>data</span> <span class='kw'>=</span> <span class='no'>dat</span>)
<span class='co'># Get predicted fits</span>
<span class='no'>fits</span> <span class='kw'>&lt;-</span> <span class='fu'>predict</span>(<span class='no'>lm_out</span>, <span class='kw'>newdata</span> <span class='kw'>=</span> <span class='no'>dat</span>)
<span class='co'># With standard errors and confidence intervals</span>
<span class='no'>fits</span> <span class='kw'>&lt;-</span> <span class='fu'>predict</span>(<span class='no'>lm_out</span>, <span class='kw'>newdata</span> <span class='kw'>=</span> <span class='no'>dat</span>, <span class='kw'>se.fit</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>interval</span> <span class='kw'>=</span> <span class='st'>"confidence"</span>)

<span class='co'># Use new data as well</span>
<span class='no'>new_dat</span> <span class='kw'>&lt;-</span> <span class='fu'>data.frame</span>(<span class='kw'>x</span> <span class='kw'>=</span> <span class='fu'>runif</span>(<span class='no'>n</span>, <span class='fl'>5</span>, <span class='fl'>8</span>))
<span class='fu'>predict</span>(<span class='no'>lm_out</span>, <span class='kw'>newdata</span> <span class='kw'>=</span> <span class='no'>new_dat</span>)</div><div class='output co'>#&gt;          1          2          3          4          5          6          7 
#&gt; -0.6633382 -0.6957332 -0.4661705 -1.0056478 -0.6934163 -0.9964482 -0.9562101 
#&gt;          8          9         10 
#&gt; -0.8134173 -1.0041648 -0.8012341 </div><div class='input'>
<span class='co'># You can also supply custom variance weights for prediction intervals</span>
<span class='no'>new_dat</span>$<span class='no'>w</span> <span class='kw'>&lt;-</span> <span class='fu'>runif</span>(<span class='no'>n</span>)
<span class='fu'>predict</span>(<span class='no'>lm_out</span>, <span class='kw'>newdata</span> <span class='kw'>=</span> <span class='no'>new_dat</span>, <span class='kw'>weights</span> <span class='kw'>=</span> <span class='no'>w</span>, <span class='kw'>interval</span> <span class='kw'>=</span> <span class='st'>"prediction"</span>)</div><div class='output co'>#&gt; $fit
#&gt;              fit        lwr      upr
#&gt;  [1,] -0.6633382  -5.162176 3.835499
#&gt;  [2,] -0.6957332  -5.207346 3.815879
#&gt;  [3,] -0.4661705  -4.414089 3.481748
#&gt;  [4,] -1.0056478  -5.520872 3.509577
#&gt;  [5,] -0.6934163 -10.799452 9.412619
#&gt;  [6,] -0.9964482  -5.514685 3.521789
#&gt;  [7,] -0.9562101  -5.438922 3.526502
#&gt;  [8,] -0.8134173  -6.558348 4.931514
#&gt;  [9,] -1.0041648  -6.438104 4.429774
#&gt; [10,] -0.8012341  -5.137823 3.535355
#&gt; </div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#details">Details</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>