---
title: "fabricatr"
---

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Draw binary data with fixed intra-cluster correlation.</h1>
    </div>

    
    <p>Data is generated to ensure inter-cluster correlation 0, intra-cluster
correlation in expectation ICC. Algorithm taken from Hossein,
Akhtar. "ICCbin: An R Package Facilitating Clustered Binary Data
Generation, and Estimation of Intracluster Correlation Coefficient (ICC)
for Binary Data".</p>
    

    <pre class="usage"><span class='fu'>draw_binary_icc</span>(<span class='kw'>prob</span> <span class='kw'>=</span> <span class='fl'>0.5</span>, <span class='kw'>N</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='no'>clusters</span>, <span class='kw'>ICC</span> <span class='kw'>=</span> <span class='fl'>0</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>prob</th>
      <td><p>A number or vector of numbers, one probability per cluster. If none
is provided, will default to 0.5.</p></td>
    </tr>
    <tr>
      <th>N</th>
      <td><p>(Optional) A number indicating the number of observations to be
generated. Must be equal to length(clusters) if provided.</p></td>
    </tr>
    <tr>
      <th>clusters</th>
      <td><p>A vector of factors or items that can be coerced to
clusters; the length will determine the length of the generated data.</p></td>
    </tr>
    <tr>
      <th>ICC</th>
      <td><p>A number indicating the desired <code>ICC</code>, if none is provided
the default ICC will be 0.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A vector of binary numbers corresponding to the observations from
the supplied cluster IDs.</p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># Divide units into clusters</span>
<span class='no'>clusters</span> <span class='kw'>=</span> <span class='fu'>rep</span>(<span class='fl'>1</span>:<span class='fl'>5</span>, <span class='fl'>10</span>)

<span class='co'># Default probability 0.5, default ICC 0</span>
<span class='fu'>draw_binary_icc</span>(<span class='kw'>clusters</span> <span class='kw'>=</span> <span class='no'>clusters</span>)</div><div class='output co'>#&gt;  [1] 0 0 1 0 1 0 1 1 1 1 1 0 0 1 1 0 0 1 1 1 0 1 0 0 1 0 1 1 1 1 0 1 1 0 0 1 1 0
#&gt; [39] 0 1 0 1 0 1 0 0 1 1 1 0</div><div class='input'>
<span class='co'># Specify probability or ICC</span>
<span class='no'>corr_draw</span> <span class='kw'>=</span> <span class='fu'>draw_binary_icc</span>(<span class='kw'>prob</span> <span class='kw'>=</span> <span class='fl'>0.5</span>, <span class='kw'>clusters</span> <span class='kw'>=</span> <span class='no'>clusters</span>, <span class='kw'>ICC</span> <span class='kw'>=</span> <span class='fl'>0.5</span>)

<span class='co'># Verify ICC of data.</span>
<span class='fu'>summary</span>(<span class='fu'>lm</span>(<span class='no'>corr_draw</span> ~ <span class='fu'>as.factor</span>(<span class='no'>clusters</span>)))$<span class='no'>r.squared</span></div><div class='output co'>#&gt; [1] 0.7401247</div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>