---
title: "DeclareDesign"
---

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Reveal Observed Outcomes</h1>
    </div>

    
    <p>Reveal Observed Outcomes</p>
    

    <pre class="usage"><span class='fu'>reveal_outcomes</span>(<span class='kw'>data</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='kw'>outcome_variable_names</span> <span class='kw'>=</span> <span class='no'>Y</span>,
  <span class='kw'>assignment_variable_names</span> <span class='kw'>=</span> <span class='no'>Z</span>, <span class='kw'>attrition_variable_name</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>outcome_function</span> <span class='kw'>=</span> <span class='kw'>NULL</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a> Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>data</th>
      <td><p>A data.frame containing columns of potential outcomes and an assignment variable</p></td>
    </tr>
    <tr>
      <th>outcome_variable_names</th>
      <td><p>The outcome prefix(es) of the potential outcomes</p></td>
    </tr>
    <tr>
      <th>assignment_variable_names</th>
      <td><p>The bare (unquote) name(s) of the assignment variable</p></td>
    </tr>
    <tr>
      <th>attrition_variable_name</th>
      <td><p>The bare (unquote) name of the attrition variable</p></td>
    </tr>
    <tr>
      <th>outcome_function</th>
      <td><p>If specified, <code>reveal_outcomes</code> draws outcomes using <code>outcome_function</code> rather than the switching equation.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>Typically, a design includes a potential outcomes declaration and an assignment declaration. Reveal outcomes uses the random assignment to pluck out the correct potential outcomes. This is analogous to the "switching equation" (Gerber and Green 2012, Chapter 2).</p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='no'>my_population</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='declare_population.html'>declare_population</a></span>(<span class='kw'>N</span> <span class='kw'>=</span> <span class='fl'>100</span>, <span class='kw'>noise</span> <span class='kw'>=</span> <span class='fu'>rnorm</span>(<span class='no'>N</span>))

<span class='no'>my_potential_outcomes</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='declare_potential_outcomes.html'>declare_potential_outcomes</a></span>(
  <span class='kw'>Y_Z_0</span> <span class='kw'>=</span> <span class='no'>noise</span>, <span class='kw'>Y_Z_1</span> <span class='kw'>=</span> <span class='no'>noise</span> +
  <span class='fu'>rnorm</span>(<span class='no'>N</span>, <span class='kw'>mean</span> <span class='kw'>=</span> <span class='fl'>2</span>, <span class='kw'>sd</span> <span class='kw'>=</span> <span class='fl'>2</span>))

<span class='no'>my_assignment</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='declare_assignment.html'>declare_assignment</a></span>(<span class='kw'>m</span> <span class='kw'>=</span> <span class='fl'>50</span>)

<span class='no'>design</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='declare_design.html'>declare_design</a></span>(<span class='no'>my_population</span>,
                         <span class='no'>my_potential_outcomes</span>,
                         <span class='no'>my_assignment</span>,
                         <span class='no'>reveal_outcomes</span>)

<span class='no'>design</span></div><div class='output co'>#&gt; 
#&gt; Design Summary
#&gt; 
#&gt; Step 1 (): declare_population(N = 100, noise = rnorm(N)) 
#&gt; 
#&gt; N = 100 
#&gt; 
#&gt; Added variable: ID 
#&gt;  N_missing N_unique     class
#&gt;          0      100 character
#&gt; 
#&gt; Added variable: noise 
#&gt;    min median mean  max   sd N_missing N_unique
#&gt;  -2.23  -0.03    0 2.37 0.95         0      100
#&gt; 
#&gt; Step 2 (): declare_potential_outcomes(Y_Z_0 = noise, Y_Z_1 = noise + rnorm(N,     mean = 2, sd = 2)) 
#&gt; 
#&gt; Added variable: Y_Z_0 
#&gt;    min median mean  max   sd N_missing N_unique
#&gt;  -2.23  -0.03    0 2.37 0.95         0      100
#&gt; 
#&gt; Added variable: Y_Z_1 
#&gt;    min median mean  max   sd N_missing N_unique
#&gt;  -3.93   2.08 2.13 8.09 2.47         0      100
#&gt; 
#&gt; Step 3 (): declare_assignment(m = 50) 
#&gt; 
#&gt; Added variable: Z 
#&gt;     0    1
#&gt;    50   50
#&gt;  0.50 0.50
#&gt; 
#&gt; Added variable: Z_cond_prob 
#&gt;   0.5
#&gt;   100
#&gt;  1.00
#&gt; 
#&gt; Step 4 (): NULL 
#&gt; 
#&gt; Added variable: Y 
#&gt;    min median mean  max   sd N_missing N_unique
#&gt;  -3.93   0.93 1.08 8.09 2.13         0      100
#&gt; </div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#details">Details</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>